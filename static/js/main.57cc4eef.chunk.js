(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(5),o=n.n(a),l=(n(10),n(2)),u=n(4),i=function e(t){Object(u.a)(this,e),this.value=t,this.next=null},s=function e(t){Object(u.a)(this,e);var n=new i(t);this.head=n,this.tail=n};function f(e,t){return Math.floor(Math.random()*(t-e+1)+e)}n(11);var w=n(0),v={UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT"},d=function(e){for(var t=1,n=[],r=0;r<e;r++){for(var c=[],a=0;a<e;a++)c.push(t++);n.push(c)}return n},h=function(e){var t=e.length,n=e[0].length,r=f(0,t-1),c=f(1,n);return{row:r,col:c,cell:e[r][c]}},j=function(){return Object.keys(v)[f(0,4)]},O=function(e,t){for(;;){var n=f(1,100);if(!e.has(n)&&t!==n)return n}},b=function(e,t){switch(t){case v.UP:return{row:e.row-1,col:e.col};case v.RIGHT:return{row:e.row,col:e.col+1};case v.DOWN:return{row:e.row+1,col:e.col};case v.LEFT:return{row:e.row,col:e.col-1};default:return{row:e.row,col:e.col}}},T=function(e,t){var n=e.row,r=e.col;return n<0||r<0||(n>=t.length||r>=t[0].length)},x=function(e){switch(e){case"ArrowUp":return v.UP;case"ArrowRight":return v.RIGHT;case"ArrowLeft":return v.LEFT;case"ArrowDown":return v.DOWN;default:return""}},m=function(e,t){if(null===e.next)return t;var n=e.value,r=n.row,c=n.col,a=e.next.value,o=a.row,l=a.col;return o===r&&l===c+1?v.RIGHT:o===r&&l===c-1?v.LEFT:l===c&&o===r+1?v.DOWN:l===c&&o===r-1?v.UP:""},p=function(e,t){var n=m(e,t),r=g(n),c={row:e.value.row,col:e.value.col};return b(c,r)},g=function(e){return e===v.UP?v.DOWN:e===v.RIGHT?v.LEFT:e===v.DOWN?v.UP:e===v.LEFT?v.RIGHT:void 0},S=function(e,t,n,r){var c="cell";return e===t&&(c=n?"cell cell-purple":"cell cell-red"),r.has(e)&&(c="cell cell-green"),c},E=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(d(10)),o=Object(l.a)(a,1)[0],u=Object(r.useState)(new s(h(o))),f=Object(l.a)(u,2),v=f[0],E=f[1],F=Object(r.useState)(new Set([v.head.value.cell])),L=Object(l.a)(F,2),N=L[0],D=L[1],I=Object(r.useState)(O(N,0)),P=Object(l.a)(I,2),k=P[0],R=P[1],U=Object(r.useState)(j()),G=Object(l.a)(U,2),H=G[0],W=G[1],y=Object(r.useState)(!1),A=Object(l.a)(y,2),M=A[0],C=A[1];Object(r.useEffect)((function(){return window.addEventListener("keydown",(function(e){B(e)})),function(){return window.removeEventListener("keydown",(function(e){B(e)}))}})),Object(r.useEffect)((function(){var e=setTimeout((function(){J()}),150);return function(){return clearTimeout(e)}}));var B=function(e){var t=x(e.key);""!==t&&(g(t)===H&&N.size>1||W(t))},J=function(){var e={row:v.head.value.row,col:v.head.value.col},t=b(e,H);if(T(t,o))return Q();var n=o[t.row][t.col];if(N.has(n))return Q();var r=new i({row:t.row,col:t.col,cell:n}),c=v.head;v.head=r,c.next=r;var a=new Set(N);a.delete(v.tail.value.cell),a.add(n),v.tail=v.tail.next,null===v.tail&&(v.tail=v.head),n===k&&(z(a),M&&q(),K(a,k)),D(a)},z=function(e){var t=p(v.tail,H);if(!T(t,o)){var n=o[t.row][t.col],r=new i({row:t.row,col:t.col,cell:n}),c=v.tail;v.tail=r,v.tail.next=c,e.add(n)}},q=function(){var e=m(v.tail,H),t=g(e);W(t),function(e){for(var t=null,n=e;null!==n;){var r=n.next;n.next=t,t=n,n=r}}(v.tail);var n=v.head;v.head=v.tail,v.tail=n},K=function(e,t){var r=O(e,t),a=Math.random()<.3;R(r),C(a),c(n+1)},Q=function(){c(0);var e=h(o);E(new s(e)),R(O(N,0)),D(new Set([e.cell])),W(j())};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h2",{children:["Score: ",n]}),Object(w.jsx)("div",{className:"board",children:o.map((function(e,t){return Object(w.jsx)("div",{className:"row",children:e.map((function(e,t){var n=S(e,k,M,N);return Object(w.jsx)("div",{className:n},t)}))},t)}))})]})},F=(n(13),function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(E,{})})}),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(F,{})}),document.getElementById("root")),L()}],[[14,1,2]]]);
//# sourceMappingURL=main.57cc4eef.chunk.js.map